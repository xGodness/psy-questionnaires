{
  "name": "123",
  "insert": "123",
  "create": "CREATE OR REPLACE FUNCTION check_client_specialist_roles() RETURNS TRIGGER AS $ BEGIN IF (SELECT role FROM users WHERE login = NEW.client_login) = 'client' AND (SELECT role FROM users WHERE login = NEW.specialist_login) = 'specialist' THEN RETURN NEW; ELSE RAISE EXCEPTION 'Insufficient roles on client_specialist table insertion attempt'; END IF; END; $ LANGUAGE plpgsql; CREATE TRIGGER check_client_specialist_roles_trigger BEFORE INSERT OR UPDATE ON client_specialist FOR EACH ROW EXECUTE FUNCTION check_client_specialist_roles();",
  "drop": "DROP TRIGGER IF EXISTS check_client_specialist_roles_trigger ON client_specialist; DROP FUNCTION IF EXISTS check_client_specialist_roles();"
}